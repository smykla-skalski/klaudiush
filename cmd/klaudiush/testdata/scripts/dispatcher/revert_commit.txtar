# Test: Revert commits are exempt from title length check
# This tests that revert commits are allowed with longer titles

exec git init --initial-branch=main
exec git config user.email "test@test.com"
exec git config user.name "Test User"

cp file.go staged.go
exec git add staged.go

stdin input.json
exec klaudiush --hook-type PreToolUse
! stdout .

-- file.go --
package main

func main() {}

-- input.json --
{
  "tool_name": "Bash",
  "tool_input": {
    "command": "git commit -sS -m 'Revert \"feat(api): add user endpoint with very long description that exceeds limit\"'"
  }
}
