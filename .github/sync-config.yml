# yaml-language-server: $schema=https://raw.githubusercontent.com/smykla-skalski/.github/main/schemas/sync-config.schema.json
---
# Unified Sync Configuration
# Enable label removal to keep labels in sync with central config

sync:
  labels:
    allow_removal: true
  files:
    merge:
      - path: CONTRIBUTING.md
        strategy: markdown
        sections:
          - action: patch
            heading: Making Changes
            patches:
              - find: "make check  # or task check"
                replace: "mise run check"

      - path: renovate.json
        arrayStrategies:
          "$.extends": append
          "$.packageRules": append
        deduplicateArrays: true
        overrides:
          extends:
            - "customManagers:githubActionsVersions"
          packageRules:
            - description: "Update go-git only on Monday mornings (using pinned commit SHAs as v6 is not yet GA)"
              extends:
                - "schedule:earlyMondays"
              matchManagers:
                - gomod
              matchPackageNames:
                - "github.com/go-git/go-git/v6"
