# yaml-language-server: $schema=https://raw.githubusercontent.com/smykla-skalski/.github/main/schemas/sync-config.schema.json
---
# Unified Sync Configuration
# Enable label removal to keep labels in sync with central config

sync:
  labels:
    allow_removal: true
  files:
    merge:
      - path: CONTRIBUTING.md
        strategy: markdown
        sections:
          - action: replace
            heading: Making Changes
            content: |
              ### Making Changes

              1. **Create a feature branch** from `main`:

                 ```bash
                 git fetch upstream
                 git checkout -b feat/my-feature upstream/main
                 ```

              2. **Make your changes**:

                 - Follow project-specific coding standards
                 - Keep changes focused and minimal
                 - Add comments where logic isn't self-evident
                 - Update documentation if needed

              3. **Run quality checks** (if applicable):

                 ```bash
                 mise run check
                 ```

              4. **Commit your changes** (see [Commit Guidelines](#commit-guidelines))

              5. **Push to your fork**:

                 ```bash
                 git push origin feat/my-feature
                 ```

      - path: renovate.json
        arrayStrategies:
          "$.extends": append
          "$.packageRules": append
        deduplicateArrays: true
        overrides:
          extends:
            - "customManagers:githubActionsVersions"
          packageRules:
            - description: "Update go-git only on Monday mornings (using pinned commit SHAs as v6 is not yet GA)"
              extends:
                - "schedule:earlyMondays"
              matchManagers:
                - gomod
              matchPackageNames:
                - "github.com/go-git/go-git/v6"
